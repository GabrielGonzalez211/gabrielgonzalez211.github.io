<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="robots" content="index, follow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>
  <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon" />
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
  <link rel="stylesheet" href="/assets/css/style.css?v=6c62007b7fc751e7ad39c0b40ad08801fc097a74">
  <link rel="stylesheet" href="/assets/css/prism.css">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" rel="stylesheet" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/brands.min.css" rel="stylesheet" crossorigin="anonymous">
  
  <meta name="theme-color" content="#000000" />
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>TTY treatment | Gabriel blog</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="TTY treatment" />
<meta name="author" content="gabri47" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="TTY treatment TTY treatment is a technique used in reverse shells for being able to do Ctrl+Z to clear the screen, Ctrl+C without quitting the reverse shell and be able to access commands history with up and down keys. Linux These are the commands used in linux to treat the tty: $ script /dev/null -c bash or $ python3 -c &quot;import pty; pty.spawn(&#39;/bin/bash&#39;)&quot;: Used to start a bash shell. Press Ctrl+Z keys to background the shell: bash-5.2$ ^Z zsh: suspended nc -lvnp 443 ❯ stty raw -echo; fg: Make the shell a tty and foreground the shell. reset xterm: Reset the shell to show it cleaner. $ export TERM=xterm: Set the terminal to xterm. This is used for being able to do Ctrl+L. $ export SHELL=bash: Set the shell to bash for better performance $ stty rows &lt;rows&gt; cols &lt;cols&gt;: Set rows and columns to adjust shell size to current terminal window size. To see your terminal window size, open a new full terminal window and execute stty size. The first number is the number of rows and the second number is the number columns. In my case, it outputs “50 184” so I need to execute stty rows 50 cols 184 in the reverse shell. Now, it’s created a interactive reverse shell for better performance and management in the machine." />
<meta property="og:description" content="TTY treatment TTY treatment is a technique used in reverse shells for being able to do Ctrl+Z to clear the screen, Ctrl+C without quitting the reverse shell and be able to access commands history with up and down keys. Linux These are the commands used in linux to treat the tty: $ script /dev/null -c bash or $ python3 -c &quot;import pty; pty.spawn(&#39;/bin/bash&#39;)&quot;: Used to start a bash shell. Press Ctrl+Z keys to background the shell: bash-5.2$ ^Z zsh: suspended nc -lvnp 443 ❯ stty raw -echo; fg: Make the shell a tty and foreground the shell. reset xterm: Reset the shell to show it cleaner. $ export TERM=xterm: Set the terminal to xterm. This is used for being able to do Ctrl+L. $ export SHELL=bash: Set the shell to bash for better performance $ stty rows &lt;rows&gt; cols &lt;cols&gt;: Set rows and columns to adjust shell size to current terminal window size. To see your terminal window size, open a new full terminal window and execute stty size. The first number is the number of rows and the second number is the number columns. In my case, it outputs “50 184” so I need to execute stty rows 50 cols 184 in the reverse shell. Now, it’s created a interactive reverse shell for better performance and management in the machine." />
<link rel="canonical" href="http://localhost:4000/blog/tty-treatment.html" />
<meta property="og:url" content="http://localhost:4000/blog/tty-treatment.html" />
<meta property="og:site_name" content="Gabriel blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-09-14T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="TTY treatment" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"gabri47"},"dateModified":"2025-09-14T00:00:00+02:00","datePublished":"2025-09-14T00:00:00+02:00","description":"TTY treatment TTY treatment is a technique used in reverse shells for being able to do Ctrl+Z to clear the screen, Ctrl+C without quitting the reverse shell and be able to access commands history with up and down keys. Linux These are the commands used in linux to treat the tty: $ script /dev/null -c bash or $ python3 -c &quot;import pty; pty.spawn(&#39;/bin/bash&#39;)&quot;: Used to start a bash shell. Press Ctrl+Z keys to background the shell: bash-5.2$ ^Z zsh: suspended nc -lvnp 443 ❯ stty raw -echo; fg: Make the shell a tty and foreground the shell. reset xterm: Reset the shell to show it cleaner. $ export TERM=xterm: Set the terminal to xterm. This is used for being able to do Ctrl+L. $ export SHELL=bash: Set the shell to bash for better performance $ stty rows &lt;rows&gt; cols &lt;cols&gt;: Set rows and columns to adjust shell size to current terminal window size. To see your terminal window size, open a new full terminal window and execute stty size. The first number is the number of rows and the second number is the number columns. In my case, it outputs “50 184” so I need to execute stty rows 50 cols 184 in the reverse shell. Now, it’s created a interactive reverse shell for better performance and management in the machine.","headline":"TTY treatment","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/tty-treatment.html"},"url":"http://localhost:4000/blog/tty-treatment.html"}</script>
<!-- End Jekyll SEO tag -->

  
</head>

<body>

  <div id="header">
    <div class="container">
      <div class="title-container">
        <a id="a-title" href="/">
          <h1>Gabriel blog</h1>
        </a>
        <small class="nav-main d-flex justify-content-center">
    
    <a href = "/writeups">Writeups</a>
    
    &nbsp;<span style="color: #b5e853;">|</span>&nbsp;
    
    
    <a href = "/blog">Blog</a>
    
    
</small>

      </div>
      <br>

      
      <div id="bottom-bar">
        <div class="social d-flex flex-column justify-content-center w-100">
    <a href="/search" class="text-center w-100 mt-3 mb-2">
      <i class="fa fa-sm fa-search"></i>
    </a>
    <div class="social-links-bar d-flex justify-content-center mb-2">
        
        
        <a href="https://github.com/GabrielGonzalez211" target="_blank" rel="noopener">
            <i class="fab fa-lg fa-github" aria-hidden="true"></i>
        </a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    <div class="htb_badge d-flex justify-content-center">
        
        <script src="https://www.hackthebox.eu/badge/831031"></script>
        
    </div>
    <div class="thm_badge">
        
    </div>
    
</div>

      </div>
    </div>
  </div>

  <div id="content" class="container">
    <section id="main_content">
      <h1 id="tty-treatment">
        
        
          TTY treatment <a href="#tty-treatment" class="anchor"><i class='fa fa-link' aria-hidden='true'></i></a>
        
        
      </h1>

<p>TTY treatment is a technique used in reverse shells for being able to do Ctrl+Z to clear the screen,  Ctrl+C without quitting the reverse shell and be able to access commands history with up and down keys.</p>
    
      <h2 id="linux">
        
        
          Linux <a href="#linux" class="anchor"><i class='fa fa-link' aria-hidden='true'></i></a>
        
        
      </h2>

<p>These are the commands used in linux to treat the tty:</p>

<ul>
  <li><code>$ script /dev/null -c bash</code> or <code>$ python3 -c "import pty; pty.spawn('/bin/bash')"</code>: Used to start a bash shell.</li>
  <li>Press Ctrl+Z keys to background the shell:
    <pre><code class="language-bash">  bash-5.2$ ^Z
  zsh: suspended  nc -lvnp 443
</code></pre>
  </li>
  <li><code>❯ stty raw -echo; fg</code>: Make the shell a tty and foreground the shell.</li>
  <li><code>reset xterm</code>: Reset the shell to show it cleaner.</li>
  <li><code>$ export TERM=xterm</code>: Set the terminal to xterm. This is used for being able to do Ctrl+L.</li>
  <li><code>$ export SHELL=bash</code>: Set the shell to bash for better performance</li>
  <li><code>$ stty rows &lt;rows&gt; cols &lt;cols&gt;</code>: Set rows and columns to adjust shell size to current terminal window size. To see your terminal window size, open a new full terminal window and execute <code>stty size</code>. The first number is the number of rows and the second number is the number columns. In my case, it outputs “50 184” so I need to execute <code>stty rows 50 cols 184</code> in the reverse shell.</li>
</ul>

<p>Now, it’s created a interactive reverse shell for better performance and management in the machine.</p>


<div id="share-links">
  <span id="divider-line">____</span>
  <br><br>
  <small>14 September 2025</small>
  <div>
    
    Tags:
    
    <a href="/search?q=tty" class="tag" style="font-family: 'Cascadia Code';">tty</a>
    
    <a href="/search?q=shell" class="tag" style="font-family: 'Cascadia Code';">shell</a>
    
    <a href="/search?q=reverse-shell" class="tag" style="font-family: 'Cascadia Code';">reverse-shell</a>
    
    
</div>
  <br>
  Share this post:&nbsp;
  <a
    href="javascript:window.open('https://www.facebook.com/sharer.php?u=http://localhost:4000/blog/tty-treatment.html','Windows','width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no')"><i
      class="fa fa-facebook-official" aria-hidden="true"></i></a>&nbsp;
  <a
    href="javascript:window.open('https://twitter.com/intent/tweet?url=http://localhost:4000/blog/tty-treatment.html&text=Writeup+for+TTY treatment+from++held+on+14 September 2025&hashtags=ctf,writeup,tty-treatment,,tty,shell,reverse-shell','Windows','width=600,height=500,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no')"><i
      class="fa fa-twitter" aria-hidden="true"></i></a>&nbsp;
  <a
    href="javascript:window.open('https://www.linkedin.com/sharing/share-offsite/?url=http://localhost:4000/blog/tty-treatment.html&text=Writeup+for+TTY treatment+from++held+on+2025-09-14 00:00:00 +0200','Windows','width=650,height=350,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no')"><i
      class="fa fa-linkedin" aria-hidden="true"></i></a>
</div>
    </section>
  </div>

  <div id="comments" class="container">
    <section id="disqus_container">
      
    </section>
  </div>

  <footer>
    <div class="social d-flex flex-column justify-content-center w-100">
    <a href="/search" class="text-center w-100 mt-3 mb-2">
      <i class="fa fa-sm fa-search"></i>
    </a>
    <div class="social-links-bar d-flex justify-content-center mb-2">
        
        
        <a href="https://github.com/GabrielGonzalez211" target="_blank" rel="noopener">
            <i class="fab fa-lg fa-github" aria-hidden="true"></i>
        </a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    <div class="htb_badge d-flex justify-content-center">
        
        <script src="https://www.hackthebox.eu/badge/831031"></script>
        
    </div>
    <div class="thm_badge">
        
    </div>
    
</div>

  </footer>

  <script src="http://localhost:4000/assets/js/prism.js"></script>
  <button onclick="topFunction()" class="fa fa-arrow-up" id="top" title="Go to top"></button>
  <script>
    topScroll = document.getElementById("top");

    window.onscroll = function () { scrollFunction() };

    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        topScroll.style.display = "block";
      } else {
        topScroll.style.display = "none";
      }
    }

    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }

    $(window).on('load', function () {

      $('a[download]').each((i, e) => {
        $(e).addClass('fa fa-download');
      });

      setSizes();
    });

    $(window).resize(setSizes);

    function setSizes() {
      if ($(window).width() < 960) {
        $('#bottom-bar').hide();
        $('footer').show();
        $('#navbarSupportedContent').css('max-height', 'unset');
        $('.navbar-collapse').collapse('hide');
        if (document.body.clientHeight - $('#header').outerHeight() - $('#main_content').outerHeight() - $('#comments').outerHeight() < 150) {
          $('footer').css("position", "unset");
        } else {
          $('footer').css("position", "fixed");
        }
      }
      else {
        $('#bottom-bar').show();
        $('footer').hide();
        $('.navbar-collapse').collapse('hide');
        $('footer').css("position", "fixed");
        $('#navbarSupportedContent').css('max-height', (document.body.clientHeight - $('.title-container').outerHeight() - $('#bottom-bar').outerHeight() - $('.navbar-toggler').outerHeight() - 50));
      }
    }
  </script>

</body>

</html>
